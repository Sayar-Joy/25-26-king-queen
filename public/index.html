<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TTU Stars</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Import map for three.js ES modules -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
        }
      }
    </script>

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Three.js background container for home page -->
    <div id="three-bg" aria-hidden="true"></div>
    <div id="three-debug" class="three-debug" aria-hidden="true"></div>

    <!-- Floating assistant robot -->
    <div id="robot-assistant" class="robot-assistant">
      <div class="robot-body">
        <div class="robot-face">
          <div class="robot-eyes">
            <span class="robot-eye"></span>
            <span class="robot-eye"></span>
          </div>
          <div class="robot-mouth"></div>
        </div>
      </div>
      <div class="robot-message" id="robot-message"></div>
    </div>

    <!-- Navbar (full width) -->
    <nav class="navbar navbar-expand-lg mb-4 py-3">
      <div class="container-fluid px-4">
        <a class="navbar-brand fw-bold" href="#">
          <img
            src="assets/crown_logo.png"
            class="navbar-logo"
            alt="Crown logo"
          />
          <span>CEIT Stars</span>
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mainNavbar"
          aria-controls="mainNavbar"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNavbar">
          <div class="ms-auto d-flex gap-2 align-items-lg-center pt-3 pt-lg-0">
            <a class="btn btn-primary rounded-pill px-4" href="how-to-vote.html"
              >How to vote</a
            >

            <a
              class="btn btn-outline-secondary rounded-pill px-4"
              href="rules.html"
              >Rules and Regulations</a
            >

            <!-- Majors dropdown removed per request -->
          </div>
        </div>
      </div>
    </nav>

    <div class="container py-4">
      <!-- Voting Status Alert -->
      <div
        id="votingClosedAlert"
        class="alert alert-warning text-center mb-4"
        style="
          display: none;
          border: 2px solid #ffc107;
          background: linear-gradient(135deg, #fff3cd, #ffecb5);
          border-radius: 15px;
        "
      >
        <h4 class="alert-heading" style="color: #003b73; font-weight: 700">
          ðŸ”’ Voting is Currently Closed
        </h4>
        <p style="color: #003b73; font-size: 18px; margin-bottom: 10px">
          The voting will open on <strong>January 9, 2026</strong> (Major
          Welcome Day).
        </p>
        <p style="color: #666; font-size: 14px; margin-bottom: 0">
          Please check back later. The voting form will be enabled when voting
          opens.
        </p>
      </div>

      <!-- Welcome Section -->
      <div class="welcome-section mb-5">
        <p class="welcome-text">
          Welcome to the official King & Queen Selection website for the 2025/26
          Freshers!<br />
          Every single vote from CEIT major students counts.<br />
          Don't miss your chance to vote on Major Welcome Day â€“ 9.1.2026.
        </p>
        <p class="welcome-highlight">
          <strong>A warm welcome to our 2025/26 juniors!</strong>
        </p>
      </div>

      <!-- Selection Title -->
      <h2 class="text-center mb-4" style="color: #003b73; font-weight: 700">
        2025/26 CEIT King & Queen Selections
      </h2>

      <!-- Tabs -->
      <ul class="nav nav-pills mb-4">
        <li class="nav-item w-50">
          <button
            class="nav-link active tab-btn w-100"
            data-bs-toggle="pill"
            data-bs-target="#king"
          >
            King Selections
          </button>
        </li>
        <li class="nav-item w-50">
          <button
            class="nav-link tab-btn w-100"
            data-bs-toggle="pill"
            data-bs-target="#queen"
          >
            Queen Selections
          </button>
        </li>
      </ul>

      <div class="tab-content">
        <!-- KING -->
        <div class="tab-pane fade show active" id="king">
          <div id="kingCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <!-- Cards inserted via script.js -->
            </div>

            <!-- Controls -->
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#kingCarousel"
              data-bs-slide="prev"
            >
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#kingCarousel"
              data-bs-slide="next"
            >
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>

        <!-- QUEEN -->
        <div class="tab-pane fade" id="queen">
          <div
            id="queenCarousel"
            class="carousel slide"
            data-bs-ride="carousel"
          >
            <div class="carousel-inner">
              <!-- Cards inserted via script.js -->
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#queenCarousel"
              data-bs-slide="prev"
            >
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#queenCarousel"
              data-bs-slide="next"
            >
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Full screen candidate detail (opened via script.js) -->
    <div id="candidateDetailOverlay" class="candidate-detail-overlay" hidden>
      <div class="candidate-detail-content">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="fw-bold mb-0">Candidate Details</h5>
          <button
            id="candidateDetailClose"
            type="button"
            class="btn btn-outline-primary rounded-pill px-4"
          >
            Close
          </button>
        </div>

        <div class="candidate-detail-card">
          <!-- Photo Carousel -->
          <div
            id="candidatePhotoCarousel"
            class="carousel slide"
            data-bs-ride="false"
            data-bs-touch="true"
            data-bs-interval="false"
          >
            <div class="carousel-inner" id="candidateDetailPhotoCarousel">
              <!-- Photos will be inserted by JavaScript -->
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#candidatePhotoCarousel"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#candidatePhotoCarousel"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>

          <h4 id="candidateDetailName" class="mt-3 fw-bold"></h4>

          <div class="mt-3 detail-badges-container">
            <div class="detail-badge mb-2">
              <span class="fw-bold">Roll No:</span>
              <span id="candidateDetailRoll"></span>
            </div>
            <div class="detail-badge mb-2">
              <span class="fw-bold">Hobby:</span>
              <span id="candidateDetailHobby"></span>
            </div>
            <div class="detail-badge mb-0">
              <span class="fw-bold">About:</span>
              <span id="candidateDetailAbout"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer
      class="text-center py-4 mt-5"
      style="
        background-color: rgba(0, 59, 115, 0.05);
        border-top: 1px solid rgba(0, 59, 115, 0.2);
      "
    >
      <p class="mb-0" style="color: #003b73; font-size: 14px">
        Developed by <strong>Hlyan Paing Aung</strong>, UI Designed by
        <strong>Htet Lin Htoo</strong>
      </p>
    </footer>

    <!-- Selection Display Box -->
    <div id="selectionDisplay" class="selection-display">
      <h6>Your Selections:</h6>
      <div id="selectionKing" class="selection-item" style="display: none">
        <strong>King:</strong> <span id="selectionKingName"></span>
      </div>
      <div id="selectionQueen" class="selection-item" style="display: none">
        <strong>Queen:</strong> <span id="selectionQueenName"></span>
      </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal fade" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div
          class="modal-content"
          style="border: 2px solid #003b73; border-radius: 20px"
        >
          <div
            class="modal-header"
            style="border-bottom: 2px solid rgba(0, 59, 115, 0.2)"
          >
            <h5 class="modal-title" style="color: #003b73; font-weight: 700">
              ðŸŽ‰ Confirm Your Vote
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p style="color: #003b73; font-weight: 600">You have selected:</p>
            <div
              class="mb-3 p-3"
              style="
                background: rgba(0, 59, 115, 0.05);
                border-radius: 10px;
                border: 2px solid rgba(0, 59, 115, 0.2);
              "
            >
              <div class="mb-2">
                <strong style="color: #003b73">King:</strong>
                <span
                  id="authKingName"
                  style="color: #ffd700; font-weight: 700"
                ></span>
              </div>
              <div>
                <strong style="color: #003b73">Queen:</strong>
                <span
                  id="authQueenName"
                  style="color: #ffd700; font-weight: 700"
                ></span>
              </div>
            </div>
            <p style="color: #666; font-size: 14px; margin-top: 15px">
              Please enter your details to confirm your vote:
            </p>

            <div class="mb-3">
              <label
                for="authName"
                class="form-label"
                style="color: #003b73; font-weight: 600"
                >Your Name:</label
              >
              <input
                type="text"
                id="authName"
                class="form-control"
                placeholder="Enter your full name"
                style="border: 2px solid #003b73; border-radius: 10px"
              />
            </div>

            <div class="mb-3">
              <label
                for="authClass"
                class="form-label"
                style="color: #003b73; font-weight: 600"
                >Select Your Class:</label
              >
              <select
                id="authClass"
                class="form-select"
                style="border: 2px solid #003b73; border-radius: 10px"
              >
                <option value="">-- Choose your class --</option>
                <option value="firstYear">First Year (Sem I)</option>
                <option value="secondYear">Second Year (Sem 3)</option>
                <option value="thirdYear">Third Year</option>
                <option value="fourthYearFirst">Fourth Year (First Sem)</option>
                <option value="fourthYearSecond">
                  Fourth Year (Second Sem)
                </option>
                <option value="fifthYear">Fifth Year</option>
                <option value="finalYear">Final Year</option>
              </select>
            </div>

            <div class="mb-3">
              <label
                for="authRollNumber"
                class="form-label"
                style="color: #003b73; font-weight: 600"
                >Select Your Roll Number:</label
              >
              <select
                id="authRollNumber"
                class="form-select"
                style="border: 2px solid #003b73; border-radius: 10px"
                disabled
              >
                <option value="">-- First select your class --</option>
              </select>
            </div>

            <div class="mb-3">
              <label
                for="authPin"
                class="form-label"
                style="color: #003b73; font-weight: 600"
                >Your PIN:</label
              >
              <input
                type="password"
                id="authPin"
                class="form-control"
                placeholder="Enter your 4-digit PIN"
                maxlength="4"
                style="border: 2px solid #003b73; border-radius: 10px"
              />
            </div>

            <div
              id="authError"
              class="alert alert-danger mt-3"
              style="display: none; font-size: 14px"
            ></div>
            <div
              id="authSuccess"
              class="alert alert-success mt-3"
              style="display: none; font-size: 14px"
            ></div>
          </div>
          <div
            class="modal-footer"
            style="border-top: 2px solid rgba(0, 59, 115, 0.2)"
          >
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="button"
              id="confirmVoteBtn"
              class="btn"
              style="
                background: linear-gradient(135deg, #003b73, #0000cd);
                color: #fff;
                border: none;
              "
            >
              Confirm Vote
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="data.js"></script>
    <script type="module" src="three-bg.js"></script>
    <script src="script.js"></script>
  </body>
</html>
